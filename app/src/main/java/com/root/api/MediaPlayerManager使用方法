class MainActivity : AppCompatActivity() {

    private lateinit var mediaPlayerManager: MediaPlayerManager

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        mediaPlayerManager = MediaPlayerManager(this)

        val edtFilePath: EditText = findViewById(R.id.edtFilePath)
        val btnPlay: Button = findViewById(R.id.btnPlay)
        val btnPause: Button = findViewById(R.id.btnPause)
        val btnStop: Button = findViewById(R.id.btnStop)

        btnPlay.setOnClickListener {
            val filePath = edtFilePath.text.toString()
            if (filePath.startsWith("http")) {
                // 播放远程文件
                mediaPlayerManager.playRemoteFile(filePath)
            } else {
                // 播放本地文件
                mediaPlayerManager.playLocalFile(filePath)
            }
        }

        btnPause.setOnClickListener {
            mediaPlayerManager.pausePlayback()
        }

        btnStop.setOnClickListener {
            mediaPlayerManager.stopPlayback()
        }
    }
}
